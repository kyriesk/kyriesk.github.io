<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Redirecting...</title>
  <script>
    // Single-page application redirect script for GitHub Pages
    // Redirects all 404s to the index.html page with the correct query parameters
    const segmentCount = 0; // Adjust this value if your site is in a subdirectory
    const l = window.location;
    if (l.search) {
      var q = {};
      l.search.slice(1).split('&').forEach(function(v) {
        var a = v.split('=');
        q[a[0]] = a.slice(1).join('=').replace(/~and~/g, '&');
      });
      if (q.p !== undefined) {
        window.history.replaceState(null, null,
          l.pathname.slice(0, -1) + (q.p || '') +
          (q.q ? ('?' + q.q) : '') +
          l.hash
        );
      }
    } else {
      // Redirect to index.html if no query parameters
      window.location.href = window.location.pathname === '/404.html' ? '/' : window.location.pathname;
    }
  </script>
</head>
<body>
  <h1>Redirecting...</h1>
</body>
</html>